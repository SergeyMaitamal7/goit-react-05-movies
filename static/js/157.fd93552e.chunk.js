"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[157],{713:function(e,n,t){t.d(n,{fT:function(){return d},hG:function(){return p},qF:function(){return u},wr:function(){return o},yJ:function(){return l}});var r=t(861),a=t(757),s=t.n(a),c=t(340),i="022c68239ef1f98dfe9e02a4549079c6";c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/all/week?api_key=".concat(i));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&query=").concat(n,"&language=en-US"));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.results);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(n,"?api_key=").concat(i));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(n,"/credits?api_key=").concat(i));case 2:return t=e.sent,console.log(t.data.cast),e.abrupt("return",t.data.cast);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(n,"/reviews?api_key=").concat(i));case 2:return t=e.sent,console.log(t.data.results),e.abrupt("return",t.data.results);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},157:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r,a,s,c,i=t(861),o=t(439),u=t(757),p=t.n(u),d=t(713),l=t(728),f=t(168),v=t(924),h=v.ZP.ul(r||(r=(0,f.Z)(["\n  display: flex;\n  padding: 0px;\n  width: 1200px;\n  margin: auto;\n  \n"]))),x=v.ZP.div(a||(a=(0,f.Z)(["\n  padding: 10px;\n  \n"]))),m=v.ZP.p(s||(s=(0,f.Z)(["\n  padding: 5px;\n  margin-top: 10px;\n  margin-bottom: 0;\n  color: black;\n"]))),w=v.ZP.img(c||(c=(0,f.Z)([""]))),g=t(184),j=function(e){var n=e.movie;console.log(n);var t=n.original_title,r=n.overview,a=n.release_date,s=n.genres,c=n.vote_average,i=n.poster_path,o=null===s||void 0===s?void 0:s.map((function(e){return e.name+" , "})),u=null===a||void 0===a?void 0:a.slice(0,4),p=null===c||void 0===c?void 0:c.toFixed(1);return(0,g.jsxs)(h,{children:[(0,g.jsx)(w,{src:i?"https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(i):l,alt:t||"No poster"}),(0,g.jsxs)(x,{children:[(0,g.jsxs)("h2",{children:[t," : ",u]}),(0,g.jsxs)(m,{children:["User score: ",p]}),(0,g.jsx)("h2",{children:"Overview"}),(0,g.jsx)(m,{children:r}),(0,g.jsx)("h2",{children:"Genres"}),(0,g.jsxs)(m,{children:[o," "]})]})]})},k=t(791),Z=t(689),_=t(87),b=function(){var e,n,t=(0,k.useState)([]),r=(0,o.Z)(t,2),a=r[0],s=r[1],c=(0,Z.UO)().movieId,u=(0,Z.TH)(),l=null!==(e=(0,k.useRef)(null===(n=u.state)||void 0===n?void 0:n.from))&&void 0!==e?e:"/";return(0,k.useEffect)((function(){function e(){return(e=(0,i.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.hG)(c);case 2:(n=e.sent)||alert("Not found"),s(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==c&&function(){e.apply(this,arguments)}()}),[c]),(0,g.jsxs)("main",{children:[(0,g.jsx)(_.rU,{to:l.current,children:(0,g.jsx)("h2",{children:"Back to Movies"})}),(0,g.jsx)(j,{movie:a}),(0,g.jsxs)("div",{children:[(0,g.jsx)(_.rU,{to:"cast",state:{from:u.state.from},children:(0,g.jsx)("h3",{children:"Cast"})}),(0,g.jsx)(_.rU,{to:"reviews",state:{from:u.state.from},children:(0,g.jsx)("h3",{children:"Reviews"})})]}),(0,g.jsx)(k.Suspense,{fallback:(0,g.jsx)("div",{children:"Loading..."}),children:(0,g.jsx)(Z.j3,{})})]})}},728:function(e,n,t){e.exports=t.p+"static/media/No_poster _image.7555b15218a0f4733bf7.jpg"}}]);
//# sourceMappingURL=157.fd93552e.chunk.js.map